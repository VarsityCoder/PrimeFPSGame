[gd_scene load_steps=10 format=3 uid="uid://dss1q5qynmc2h"]

[ext_resource type="Script" path="res://src/scripts/portal/Portal.cs" id="1_u6i73"]
[ext_resource type="Script" path="res://src/scripts/portal/PortalCamera.cs" id="2_jyrim"]
[ext_resource type="Shader" path="res://src/Assets/Shaders/portal.gdshader" id="2_okipc"]

[sub_resource type="QuadMesh" id="QuadMesh_0t8w8"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_dtqit"]
frequency = 0.02

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_67n5y"]
width = 256
height = 256
seamless = true
noise = SubResource("FastNoiseLite_dtqit")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gpuer"]
render_priority = 0
shader = ExtResource("2_okipc")
shader_parameter/color = Color(0.932302, 0.108895, 1, 1)
shader_parameter/emission = 35.0
shader_parameter/speed = 0.3
shader_parameter/border_noise_tex = SubResource("NoiseTexture2D_67n5y")

[sub_resource type="BoxShape3D" id="BoxShape3D_qsbww"]

[sub_resource type="BoxShape3D" id="BoxShape3D_40hka"]

[node name="Portal" type="Area3D"]
script = ExtResource("1_u6i73")

[node name="PortalMesh" type="MeshInstance3D" parent="."]
unique_name_in_owner = true
mesh = SubResource("QuadMesh_0t8w8")
surface_material_override/0 = SubResource("ShaderMaterial_gpuer")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_qsbww")

[node name="SubViewport" type="SubViewport" parent="."]

[node name="Camera3D" type="Camera3D" parent="SubViewport"]
script = ExtResource("2_jyrim")

[node name="MultiPortalBlocker" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="MultiPortalBlocker"]
shape = SubResource("BoxShape3D_40hka")
